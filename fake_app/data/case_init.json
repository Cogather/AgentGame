{
  "test_suite": "租房Agent评测案例集",
  "version": "3.0.0",
  "description": "基于 database_2000.json 构造，41 条：单轮 20 条、多轮 20 条，覆盖检索/指代/预约/租赁退租/周边地标/可入住时间(available_from)等",
  "cases": [
    {
      "case_id": "EV-01",
      "scenario_type": "single",
      "description": "单轮：近地铁+精装+民水民电",
      "rounds": [
        {
          "session_id": "EV-01",
          "user_input": "我想找个离地铁近的，最好是精装，民水民电。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_subway_dist": 800, "decoration": "精装", "utilities_type": "民水民电" } }]
        }
      ]
    },
    {
      "case_id": "EV-02",
      "scenario_type": "single",
      "description": "单轮：大兴区两居+预算上限",
      "rounds": [
        {
          "session_id": "EV-02",
          "user_input": "找大兴区的两居室，租金 4000 元以下。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "bedrooms": "2", "max_price": 4000 } }]
        }
      ]
    },
    {
      "case_id": "EV-03",
      "scenario_type": "single",
      "description": "单轮：可入住日期+海淀两居",
      "rounds": [
        {
          "session_id": "EV-03",
          "user_input": "有没有 3 月初能入住的，海淀的两居？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "bedrooms": "2", "available_from_before": "2026-03-10" } }]
        }
      ]
    },
    {
      "case_id": "EV-04",
      "scenario_type": "single",
      "description": "单轮：面积区间+整租",
      "rounds": [
        {
          "session_id": "EV-04",
          "user_input": "找一套面积 80 到 100 平米的整租房。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "min_area": 80, "max_area": 100, "rental_type": "整租" } }]
        }
      ]
    },
    {
      "case_id": "EV-05",
      "scenario_type": "single",
      "description": "单轮：西二旗通勤 30 分钟内",
      "rounds": [
        {
          "session_id": "EV-05",
          "user_input": "我在西二旗上班，希望通勤 30 分钟以内，有推荐吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "commute_to_xierqi_max": 30 } }]
        }
      ]
    },
    {
      "case_id": "EV-06",
      "scenario_type": "single",
      "description": "单轮：朝南两居",
      "rounds": [
        {
          "session_id": "EV-06",
          "user_input": "找朝南的、采光好一点的两居。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "orientation": "朝南", "bedrooms": "2" } }]
        }
      ]
    },
    {
      "case_id": "EV-07",
      "scenario_type": "single",
      "description": "单轮：两居+价格区间",
      "rounds": [
        {
          "session_id": "EV-07",
          "user_input": "两居室，租金 3000 到 5000 的有没有？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "bedrooms": "2", "min_price": 3000, "max_price": 5000 } }]
        }
      ]
    },
    {
      "case_id": "EV-08",
      "scenario_type": "single",
      "description": "单轮：整租+近地铁+预算",
      "rounds": [
        {
          "session_id": "EV-08",
          "user_input": "只要整租的，近地铁，预算 5000 以内。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "rental_type": "整租", "max_subway_dist": 800, "max_price": 5000 } }]
        }
      ]
    },
    {
      "case_id": "EV-09",
      "scenario_type": "single",
      "description": "单轮：海淀精装两居价格带",
      "rounds": [
        {
          "session_id": "EV-09",
          "user_input": "海淀区有没有 7000 左右的精装两居？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "decoration": "精装", "bedrooms": "2", "min_price": 6500, "max_price": 7500 } }]
        }
      ]
    },
    {
      "case_id": "EV-10",
      "scenario_type": "single",
      "description": "单轮：指定地铁站+距离",
      "rounds": [
        {
          "session_id": "EV-10",
          "user_input": "车公庄站附近 800 米内的有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "subway_station": "车公庄站", "max_subway_dist": 800 } }]
        }
      ]
    },
    {
      "case_id": "EV-11",
      "scenario_type": "single",
      "description": "单轮：朝阳两居按租金从低到高",
      "rounds": [
        {
          "session_id": "EV-11",
          "user_input": "朝阳区两居，按租金从低到高排一下。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "朝阳", "bedrooms": "2", "sort_by": "price", "sort_order": "asc" } }]
        }
      ]
    },
    {
      "case_id": "EV-12",
      "scenario_type": "single",
      "description": "单轮：有电梯+海淀一居或两居+预算",
      "rounds": [
        {
          "session_id": "EV-12",
          "user_input": "想要有电梯的，海淀一居或两居，预算 8000 内。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "elevator": true, "district": "海淀", "bedrooms": "1,2", "max_price": 8000 } }]
        }
      ]
    },
    {
      "case_id": "EV-13",
      "scenario_type": "single",
      "description": "单轮：预算+海淀朝阳推荐",
      "rounds": [
        {
          "session_id": "EV-13",
          "user_input": "我预算 5000 左右，想在海淀或朝阳找房，有推荐的小区或房源吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀,朝阳", "min_price": 4500, "max_price": 5500 } }]
        }
      ]
    },
    {
      "case_id": "EV-14",
      "scenario_type": "single",
      "description": "单轮：一居或两居+近地铁+预算",
      "rounds": [
        {
          "session_id": "EV-14",
          "user_input": "8000 以内的一居或两居，近地铁，有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_price": 8000, "bedrooms": "1,2", "max_subway_dist": 800 } }]
        }
      ]
    },
    {
      "case_id": "EV-15",
      "scenario_type": "single",
      "description": "单轮：查某小区地铁信息",
      "rounds": [
        {
          "session_id": "EV-15",
          "user_input": "建清园那边离地铁多远？有什么线？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        }
      ]
    },
    {
      "case_id": "EV-16",
      "scenario_type": "single",
      "description": "单轮：13号线沿线+预算+两居",
      "rounds": [
        {
          "session_id": "EV-16",
          "user_input": "13 号线沿线有没有 6000 以内的两居？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "subway_line": "13号线", "max_price": 6000, "bedrooms": "2" } }]
        }
      ]
    },
    {
      "case_id": "EV-17",
      "scenario_type": "single",
      "description": "单轮：立水桥附近近地铁精装",
      "rounds": [
        {
          "session_id": "EV-17",
          "user_input": "想找立水桥附近近地铁的精装房。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "area": "立水桥", "max_subway_dist": 800, "decoration": "精装" } }]
        }
      ]
    },
    {
      "case_id": "EV-18",
      "scenario_type": "single",
      "description": "单轮：查某小区周边公园",
      "rounds": [
        {
          "session_id": "EV-18",
          "user_input": "立水桥润枫欣尚附近有公园吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/nearby_landmarks"],
          "expected_tool_inputs": [{ "query": { "community": "润枫欣尚", "type": "park", "max_distance_m": 5000 } }]
        }
      ]
    },
    {
      "case_id": "EV-19",
      "scenario_type": "single",
      "description": "单轮：昌平线沿线两居",
      "rounds": [
        {
          "session_id": "EV-19",
          "user_input": "昌平线沿线 5000 以内的两居有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "subway_line": "昌平线", "max_price": 5000, "bedrooms": "2" } }]
        }
      ]
    },
    {
      "case_id": "EV-20",
      "scenario_type": "single",
      "description": "单轮：问某套房可入住日期（available_from，by_community 返回中含该字段）",
      "rounds": [
        {
          "session_id": "EV-20",
          "user_input": "建清园南区那套什么时候能入住？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        }
      ]
    },
    {
      "case_id": "EV-21",
      "scenario_type": "multi",
      "description": "多轮：朝阳近地铁→缩预算→问噪音→约看房→再缩地铁距离→问另一套→给时间（7轮）",
      "rounds": [
        {
          "session_id": "EV-21",
          "user_input": "帮我找离地铁近一点的朝阳区，希望 3 月中旬前能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_subway_dist": 800, "district": "朝阳", "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-21",
          "user_input": "预算 6000 以内吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_subway_dist": 800, "district": "朝阳", "max_price": 6000, "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-21",
          "user_input": "润枫欣尚那套会不会很吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "润枫欣尚" } }]
        },
        {
          "session_id": "EV-21",
          "user_input": "那套还能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        },
        {
          "session_id": "EV-21",
          "user_input": "算了，我要 500 米以内的再推荐几套。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_subway_dist": 500, "district": "朝阳", "max_price": 6000, "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-21",
          "user_input": "建清园南区那套离地铁多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        },
        {
          "session_id": "EV-21",
          "user_input": "就建清园那套，明天下午 3 点可以吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-22",
      "scenario_type": "multi",
      "description": "多轮：立水桥精装一居→问某小区噪音→约看房并给时间（3轮）",
      "rounds": [
        {
          "session_id": "EV-22",
          "user_input": "有没有立水桥附近精装一居？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "area": "立水桥", "decoration": "精装", "bedrooms": "1" } }]
        },
        {
          "session_id": "EV-22",
          "user_input": "润枫欣尚那个房子会不会很吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "润枫欣尚" } }]
        },
        {
          "session_id": "EV-22",
          "user_input": "那套约明天上午 10 点看房可以吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-23",
      "scenario_type": "multi",
      "description": "多轮：搜房→指代小区在租+约看房→给时间确认（3轮）",
      "rounds": [
        {
          "session_id": "EV-23",
          "user_input": "海淀 6000 以内的两居有吗？要 3 月能入住的。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 6000, "bedrooms": "2", "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-23",
          "user_input": "建清园那个房子还在吗？能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        },
        {
          "session_id": "EV-23",
          "user_input": "好的就定明天下午 3 点。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-24",
      "scenario_type": "multi",
      "description": "多轮：面积户型→压预算→问某套距离→约看房（4轮）",
      "rounds": [
        {
          "session_id": "EV-24",
          "user_input": "想要 80 平以上的，两居或三居。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "min_area": 80, "bedrooms": "2,3" } }]
        },
        {
          "session_id": "EV-24",
          "user_input": "租金别超过 4000。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "min_area": 80, "bedrooms": "2,3", "max_price": 4000 } }]
        },
        {
          "session_id": "EV-24",
          "user_input": "云龙家园那套离地铁多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "云龙家园" } }]
        },
        {
          "session_id": "EV-24",
          "user_input": "那套能约周六上午看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-25",
      "scenario_type": "multi",
      "description": "多轮：预算整租→问某小区在租+约看房→给时间→缩预算换推荐→问距离→问周边→再约看房（8轮）",
      "rounds": [
        {
          "session_id": "EV-25",
          "user_input": "预算 4000 以内整租，希望 3 月中旬能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_price": 4000, "rental_type": "整租", "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "云龙家园那套还在吗？能约看吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "云龙家园" } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "明天下午 2 点可以。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        },
        {
          "session_id": "EV-25",
          "user_input": "算了预算改成 3500 以内再推荐几套。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_price": 3500, "rental_type": "整租", "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "新龙城那套离地铁站多少米？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城" } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "新龙城附近有超市或商场吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/nearby_landmarks"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城", "type": "shopping", "max_distance_m": 3000 } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "新龙城那套还能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城" } }]
        },
        {
          "session_id": "EV-25",
          "user_input": "周六上午 10 点吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-26",
      "scenario_type": "multi",
      "description": "多轮：立水桥近地铁精装→问噪音→约看房→缩预算→问另一套距离→给时间（6轮）",
      "rounds": [
        {
          "session_id": "EV-26",
          "user_input": "想找立水桥附近近地铁的精装房。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "area": "立水桥", "max_subway_dist": 800, "decoration": "精装" } }]
        },
        {
          "session_id": "EV-26",
          "user_input": "润枫欣尚这套安静吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "润枫欣尚" } }]
        },
        {
          "session_id": "EV-26",
          "user_input": "那套还能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        },
        {
          "session_id": "EV-26",
          "user_input": "预算 5500 以内有没有别的？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "area": "立水桥", "max_subway_dist": 800, "decoration": "精装", "max_price": 5500 } }]
        },
        {
          "session_id": "EV-26",
          "user_input": "建清园南区那套离地铁多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        },
        {
          "session_id": "EV-26",
          "user_input": "就建清园那套，明天上午 10 点可以。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-27",
      "scenario_type": "multi",
      "description": "多轮：搜房→问某套在租→约看房并给时间（3轮）",
      "rounds": [
        {
          "session_id": "EV-27",
          "user_input": "通州两居 5000 以内的有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "通州", "bedrooms": "2", "max_price": 5000 } }]
        },
        {
          "session_id": "EV-27",
          "user_input": "保利锦上二期那套还在租吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "保利锦上(二期)" } }]
        },
        {
          "session_id": "EV-27",
          "user_input": "能约周六下午 2 点看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-28",
      "scenario_type": "multi",
      "description": "多轮：大兴→两居+预算→可入住日期(available_from_before)→问某套距离→约看房（5轮）",
      "rounds": [
        {
          "session_id": "EV-28",
          "user_input": "我想在大兴看看房，希望 3 月 15 号前能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-28",
          "user_input": "要两居室，租金别超过 4000。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "bedrooms": "2", "max_price": 4000, "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-28",
          "user_input": "要 3 月 15 号前能入住的。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "bedrooms": "2", "max_price": 4000, "available_from_before": "2026-03-15" } }]
        },
        {
          "session_id": "EV-28",
          "user_input": "蓝天嘉园那套离地铁站多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "蓝天嘉园" } }]
        },
        {
          "session_id": "EV-28",
          "user_input": "那套能约明天上午看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-29",
      "scenario_type": "multi",
      "description": "多轮：海淀两居→问距离→缩预算→要500米内→问另一套噪音→约看房→给时间（7轮）",
      "rounds": [
        {
          "session_id": "EV-29",
          "user_input": "海淀 7000 以内的两居有吗？希望 3 月初能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 7000, "bedrooms": "2", "available_from_before": "2026-03-10" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "智学苑那套离地铁多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "智学苑" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "预算改成 6500 以内再推荐几套。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 6500, "bedrooms": "2", "available_from_before": "2026-03-10" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "我要离地铁 500 米以内的。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 6500, "bedrooms": "2", "max_subway_dist": 500, "available_from_before": "2026-03-10" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "新龙城那套会不会吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "新龙城那套还能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城" } }]
        },
        {
          "session_id": "EV-29",
          "user_input": "周六下午 2 点吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-30",
      "scenario_type": "multi",
      "description": "多轮：推荐→问某套噪音→选一套租赁（3轮，无查状态；确认租赁时若可入住日晚于当前日，message 须明确入住时间）",
      "rounds": [
        {
          "session_id": "EV-30",
          "user_input": "海淀 7000 以内的两居推荐一套。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 7000, "bedrooms": "2" } }]
        },
        {
          "session_id": "EV-30",
          "user_input": "智学苑那套会不会吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "智学苑" } }]
        },
        {
          "session_id": "EV-30",
          "user_input": "就租这套吧，帮我办一下。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "body": { "status": "rented" } }]
        }
      ]
    },
    {
      "case_id": "EV-31",
      "scenario_type": "multi",
      "description": "多轮：大兴两居→缩预算→指代约看房→选一套租赁（4轮，无查状态）",
      "rounds": [
        {
          "session_id": "EV-31",
          "user_input": "大兴两居 4000 以内的有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "bedrooms": "2", "max_price": 4000 } }]
        },
        {
          "session_id": "EV-31",
          "user_input": "3500 以内有没有？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "大兴", "bedrooms": "2", "max_price": 3500 } }]
        },
        {
          "session_id": "EV-31",
          "user_input": "万科庭那套能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "万科庭" } }]
        },
        {
          "session_id": "EV-31",
          "user_input": "就这套，我要租。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "body": { "status": "rented" } }]
        }
      ]
    },
    {
      "case_id": "EV-32",
      "scenario_type": "multi",
      "description": "多轮：指代小区并租赁→再退租（确认租赁时若当前时间早于可入住日，message 须明确写出入住时间）",
      "rounds": [
        {
          "session_id": "EV-32",
          "user_input": "建清园南区那套还在吗？我想租。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community", "PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }, { "body": { "status": "rented" } }]
        },
        {
          "session_id": "EV-32",
          "user_input": "我改主意了，退租吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "body": { "status": "available" } }]
        }
      ]
    },
    {
      "case_id": "EV-33",
      "scenario_type": "multi",
      "description": "多轮：租赁→退租→再查该房是否可租（确认租赁时若当前时间早于可入住日，message 须明确写出入住时间）",
      "rounds": [
        {
          "session_id": "EV-33",
          "user_input": "建清园南区那套还在吗？我想租。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community", "PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }, { "body": { "status": "rented" } }]
        },
        {
          "session_id": "EV-33",
          "user_input": "我改主意了，退租吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "body": { "status": "available" } }]
        },
        {
          "session_id": "EV-33",
          "user_input": "建清园那套现在还能租吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        }
      ]
    },
    {
      "case_id": "EV-34",
      "scenario_type": "multi",
      "description": "多轮：推荐→选一套租赁（无「查当前租赁状态」轮；确认租赁时若可入住日晚于当前日，message 须明确入住时间）",
      "rounds": [
        {
          "session_id": "EV-34",
          "user_input": "海淀 7000 以内的两居推荐一套。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "海淀", "max_price": 7000, "bedrooms": "2" } }]
        },
        {
          "session_id": "EV-34",
          "user_input": "就这套，我租了。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "body": { "status": "rented" } }]
        }
      ]
    },
    {
      "case_id": "EV-35",
      "scenario_type": "multi",
      "description": "多轮：近地铁精装→问某套噪音→约看房并给时间（3轮）",
      "rounds": [
        {
          "session_id": "EV-35",
          "user_input": "我想找个离地铁近的、精装、民水民电，希望 3 月初能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "max_subway_dist": 800, "decoration": "精装", "utilities_type": "民水民电", "available_from_before": "2026-03-10" } }]
        },
        {
          "session_id": "EV-35",
          "user_input": "保利锦上二期那个房子临街会不会很吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "保利锦上(二期)" } }]
        },
        {
          "session_id": "EV-35",
          "user_input": "那套约明天下午 4 点看房可以吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-36",
      "scenario_type": "multi",
      "description": "多轮：西二旗通勤→缩预算→问某套噪音→约看房→要500米内→选新龙城约看房并给时间（7轮，参考预约2）",
      "rounds": [
        {
          "session_id": "EV-36",
          "user_input": "我在西二旗上班，通勤 30 分钟内，希望 3 月能入住，有推荐吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "commute_to_xierqi_max": 30, "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "预算 8000 以内吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "commute_to_xierqi_max": 30, "max_price": 8000, "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "金域华府那个房子临街会不会很吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "金域华府" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "融泽嘉园那套能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "融泽嘉园" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "我要离地铁 500 米以内的再推荐。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "commute_to_xierqi_max": 30, "max_price": 8000, "max_subway_dist": 500, "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "新龙城那套还在吗？能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "新龙城" } }]
        },
        {
          "session_id": "EV-36",
          "user_input": "就新龙城那套，约明天上午 10 点吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-37",
      "scenario_type": "multi",
      "description": "多轮：查小区地铁→问周边商超→在租+约看房→给时间（4轮）",
      "rounds": [
        {
          "session_id": "EV-37",
          "user_input": "云龙家园那边离地铁多远？有什么线？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "云龙家园" } }]
        },
        {
          "session_id": "EV-37",
          "user_input": "附近有超市或商场吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/nearby_landmarks"],
          "expected_tool_inputs": [{ "query": { "community": "云龙家园", "type": "shopping", "max_distance_m": 3000 } }]
        },
        {
          "session_id": "EV-37",
          "user_input": "云龙家园那套还在吗？能约看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "云龙家园" } }]
        },
        {
          "session_id": "EV-37",
          "user_input": "周六上午 9 点可以。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-38",
      "scenario_type": "multi",
      "description": "多轮：朝阳两居排序→问某套噪音→指代约看房并给时间（3轮）",
      "rounds": [
        {
          "session_id": "EV-38",
          "user_input": "朝阳区两居，按租金从低到高排一下。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "朝阳", "bedrooms": "2", "sort_by": "price", "sort_order": "asc" } }]
        },
        {
          "session_id": "EV-38",
          "user_input": "润枫欣尚那套会不会吵？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "润枫欣尚" } }]
        },
        {
          "session_id": "EV-38",
          "user_input": "那套约周六下午 3 点看房吧。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-39",
      "scenario_type": "multi",
      "description": "多轮：车公庄站附近→缩面积→问某套在租→约看房（4轮）",
      "rounds": [
        {
          "session_id": "EV-39",
          "user_input": "车公庄站附近 800 米内的有吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "subway_station": "车公庄站", "max_subway_dist": 800 } }]
        },
        {
          "session_id": "EV-39",
          "user_input": "要 50 平米以上的。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "subway_station": "车公庄站", "max_subway_dist": 800, "min_area": 50 } }]
        },
        {
          "session_id": "EV-39",
          "user_input": "建清园南区那套还在租吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "建清园(南区)" } }]
        },
        {
          "session_id": "EV-39",
          "user_input": "能约明天下午看房吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": [],
          "expected_tool_inputs": []
        }
      ]
    },
    {
      "case_id": "EV-40",
      "scenario_type": "multi",
      "description": "多轮：通州两居→问某套距离→缩预算再推荐→指代租赁（4轮，无查状态；确认租赁时若可入住日晚于当前日，message 须明确入住时间）",
      "rounds": [
        {
          "session_id": "EV-40",
          "user_input": "通州两居 4000 左右的有没有？希望 3 月能入住。",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "通州", "bedrooms": "2", "min_price": 3500, "max_price": 4500, "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-40",
          "user_input": "K2百合湾那套离地铁多远？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community"],
          "expected_tool_inputs": [{ "query": { "community": "K2百合湾" } }]
        },
        {
          "session_id": "EV-40",
          "user_input": "预算 3500 以内还有别的吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses"],
          "expected_tool_inputs": [{ "query": { "district": "通州", "bedrooms": "2", "max_price": 3500, "available_from_before": "2026-03-31" } }]
        },
        {
          "session_id": "EV-40",
          "user_input": "就 K2百合湾那套吧，我想租，能办吗？",
          "response": { "message": "", "houses": [] },
          "expected_tool_calls": ["GET /api/houses/by_community", "PUT /api/houses/{id}/status"],
          "expected_tool_inputs": [{ "query": { "community": "K2百合湾" } }, { "body": { "status": "rented" } }]
        }
      ]
    }
  ]
}
